{% load static %}
<script src="{% static 'js_imports/jquery-3.7.1.min.js' %}"></script>
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="{% static 'bootstrap-5.3.8/js/bootstrap.js' %}"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script> -->
<script>
    /* Preload Constants */
    const languageCode = '{{request.session.lang_code}}'

    /* Load the translated JSON into browser memory. */ 
    var localAlertText = null
    $.getJSON('/static/localization/{{request.session.lang_code}}/alerts.json', 
        function(json_data){localAlertText = json_data})

    function autoCloseAlert(alert){
        setTimeout(function() {alert.close();}, 5000);
    }

    function createAlert(text = "", key = "", type = "warning") {

        if (localAlertText && localAlertText[key]){
            text = localAlertText[key];
        }
        
        var new_alert = new bootstrap.Alert($("#alert-container").append(
            `<div class="alert alert-dismissible fade show m-0 mt-1 alert-${type}" role="alert" style="pointer-events: auto;"><span>${text}</span>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>`));
    }
</script>